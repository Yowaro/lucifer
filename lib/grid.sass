/////////////// GRID SYSTEM ///////////////

// grid function that calculates dimensions of columns for the grid system
// variables and their definitions:
// max-columns - the number of maximum number of columns
// container-width - the width of the wrap container
// margin - the margin gap between columns
=grid($max-columns, $container-width, $margin, $custom-class: null)
	+clearfix()

	@for $i from 2 through $max-columns
		@for $j from 1 through $i
			.cell#{$custom-class}-#{$j}-of-#{$i}
				width: ($container-width - ($i - 1) * $margin) * $j / $i + $margin * ($j - 1)
	
	[class*="cell-"]
		float: left
		margin: 0 0 $margin $margin

	[class*="cell-"]:first-of-type
		margin-left: 0